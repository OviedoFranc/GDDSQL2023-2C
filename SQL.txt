SELECT * FROM gd_esquema.Maestra

--Tabla Inmueble
CREATE TABLE Inmueble (
    INMUEBLE_CODIGO INT PRIMARY KEY,
    INMUEBLE_NOMBRE VARCHAR(150),
    INMUEBLE_DESCRIPCION VARCHAR(MAX),
    INMUEBLE_DIRECCION VARCHAR(200),
    INMUEBLE_SUPERFICIETOTAL DECIMAL(10,2),
    INMUEBLE_ANTIGUEDAD INT,
    INMUEBLE_EXPESAS DECIMAL(10,2),
    INMUEBLE_BARRIO INT, -- FK
    INMUEBLE_LOCALIDAD INT, -- FK
    INMUEBLE_PROVINCIA INT, -- FK
    INMUEBLE_TIPO_INMUEBLE INT, -- FK
    INMUEBLE_CANT_AMBIENTES INT, -- FK
    INMUEBLE_ORIENTACION INT, -- FK
    INMUEBLE_DISPOSICION INT, -- FK
    INMUEBLE_ESTADO INT -- FK
);

-- Tabla Propietario
CREATE TABLE Propietario (
    PROPIETARIO_ID INT PRIMARY KEY,
    PROPIETARIO_NOMBRE VARCHAR(100),
    PROPIETARIO_APELLIDO VARCHAR(100),
    PROPIETARIO_DNI CHAR(10),
    PROPIETARIO_FECHA_REGISTRO DATE,
    PROPIETARIO_TELEFONO VARCHAR(20),
    PROPIETARIO_MAIL VARCHAR(100),
    PROPIETARIO_FECHA_NAC DATE
);

-- Tabla Anuncio
CREATE TABLE Anuncio (
    ANUNCIO_CODIGO INT PRIMARY KEY,
    ANUNCIO_FECHA_PUBLICACION DATE,
    ANUNCIO_PRECIO_PUBLICADO DECIMAL(10,2),
    ANUNCIO_COSTO_ANUNCIO DECIMAL(10,2),
    ANUNCIO_FECHA_FINALIZACION DATE,
    ANUNCIO_TIPO_OPERACION INT, -- FK
    ANUNCIO_MONEDA INT, -- FK
    ANUNCIO_ESTADO INT, -- FK
    ANUNCIO_TIPO_PERIODO INT -- FK
);

-- Tabla Agente
CREATE TABLE Agente (
    AGENTE_ID INT PRIMARY KEY,
    AGENTE_NOMBRE VARCHAR(100),
    AGENTE_APELLIDO VARCHAR(100),
    AGENTE_DNI CHAR(10),
    AGENTE_FECHA_REGISTRO DATE,
    AGENTE_TELEFONO VARCHAR(20),
    AGENTE_MAIL VARCHAR(100),
    AGENTE_FECHA_NAC DATE
);

-- Tabla Sucursal
CREATE TABLE Sucursal (
    SUCURSAL_CODIGO INT PRIMARY KEY,
    SUCURSAL_NOMBRE VARCHAR(100),
    SUCURSAL_DIRECCION VARCHAR(200),
    SUCURSAL_TELEFONO VARCHAR(20),
    SUCURSAL_LOCALIDAD INT, -- FK
    SUCURSAL_PROVINCIA INT -- FK
);

-- Tabla Caracteristica
CREATE TABLE Caracteristica (
    CARACTERISTICA_ID INT PRIMARY KEY,
    NOMBRE VARCHAR(100),
    DESCRIPCION VARCHAR(200)
);

-- Tabla Inmueble_caracteristica (Relaci√≥n entre Inmueble y Caracteristica)
CREATE TABLE Inmueble_caracteristica (
    INMUEBLE_ID INT, -- FK
    CARACTERISTICA_ID INT, -- FK
    PRIMARY KEY (INMUEBLE_ID, CARACTERISTICA_ID)
);

-- Tabla Venta
CREATE TABLE Venta (
    VENTA_CODIGO INT PRIMARY KEY,
    VENTA_FECHA DATE,
    VENTA_PRECIO_VENTA DECIMAL(10,2),
    VENTA_COMISION DECIMAL(10,2),
    VENTA_MONEDA INT -- FK
);

-- Tabla Comprador
CREATE TABLE Comprador (
    COMPRADOR_ID INT PRIMARY KEY,
    COMPRADOR_NOMBRE VARCHAR(100),
    COMPRADOR_APELLIDO VARCHAR(100),
    COMPRADOR_DNI CHAR(10),
    COMPRADOR_FECHA_REGISTRO DATE,
    COMPRADOR_TELEFONO VARCHAR(20),
    COMPRADOR_MAIL VARCHAR(100),
    COMPRADOR_FECHA_NAC DATE
);

-- Tabla Alquiler
CREATE TABLE Alquiler (
    ALQUILER_CODIGO INT PRIMARY KEY,
    ALQUILER_FECHA_INICIO DATE,
    ALQUILER_FECHA_FIN DATE,
    ALQUILER_CANT_PERIODOS INT,
    ALQUILER_DEPOSITO DECIMAL(10,2),
    ALQUILER_COMISION DECIMAL(10,2),
    ALQUILER_GASTOS_AVERIGUA DECIMAL(10,2),
    ALQUILER_ESTADO INT -- FK
);

-- Tabla Inquilino
CREATE TABLE Inquilino (
    INQUILINO_ID INT PRIMARY KEY,
    INQUILINO_NOMBRE VARCHAR(100),
    INQUILINO_APELLIDO VARCHAR(100),
    INQUILINO_DNI CHAR(10),
    INQUILINO_FECHA_REGISTRO DATE,
    INQUILINO_TELEFONO VARCHAR(20),
    INQUILINO_MAIL VARCHAR(100),
    INQUILINO_FECHA_NAC DATE
);

-- Tabla Detalle_importe_alquiler
CREATE TABLE Detalle_importe_alquiler (
    DETALLE_ID INT PRIMARY KEY,
    NRO_PERIODO_INI INT,
    NRO_PERIODO_FIN INT,
    PRECIO DECIMAL(10,2)
);

-- Tabla Pago_alquiler
CREATE TABLE Pago_alquiler (
    PAGO_ALQUILER_CODIGO INT PRIMARY KEY,
    PAGO_ALQUILER_FECHA DATE,
    PAGO_ALQUILER_FECHA_VENCIMIENTO DATE,
    PAGO_ALQUILER_NRO_PERIODO INT,
    PAGO_ALQUILER_DESC VARCHAR(200),
    PAGO_ALQUILER_FEC_INI DATE,
    PAGO_ALQUILER_FEC_FIN DATE,
    PAGO_ALQUILER_IMPORTE DECIMAL(10,2),
    PAGO_ALQUILER_MEDIO_PAGO VARCHAR(100)
);

------------------------------  TABLAS TIPIFICADAS -------------------------------------

-- Tabla Provincia
CREATE TABLE Provincia (
    PROVINCIA_ID INT PRIMARY KEY,
    NOMBRE VARCHAR(100)
);

-- Tabla Localidad
CREATE TABLE Localidad (
    LOCALIDAD_ID INT PRIMARY KEY,
    NOMBRE VARCHAR(100),
    PROVINCIA_ID INT -- FK
);

-- Tabla Barrio
CREATE TABLE Barrio (
    BARRIO_ID INT PRIMARY KEY,
    NOMBRE VARCHAR(100),
    LOCALIDAD_ID INT -- FK
);

-- Tabla Tipo_inmueble
CREATE TABLE Tipo_inmueble (
    TIPO_INMUEBLE_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Cant_inmuebles
CREATE TABLE Cant_inmuebles (
    CANT_INMUEBLES_ID INT PRIMARY KEY,
    CANTIDAD VARCHAR(50)
);

-- Tabla Orientacion
CREATE TABLE Orientacion (
    ORIENTACION_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Disposicion
CREATE TABLE Disposicion (
    DISPOSICION_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Estado_inmueble
CREATE TABLE Estado_inmueble (
    ESTADO_INMUEBLE_ID INT PRIMARY KEY,
    ESTADO VARCHAR(100)
);

-- Tabla Tipo_periodo
CREATE TABLE Tipo_periodo (
    TIPO_PERIODO_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Estado_anuncio
CREATE TABLE Estado_anuncio (
    ESTADO_ANUNCIO_ID INT PRIMARY KEY,
    ESTADO VARCHAR(100)
);

-- Tabla Moneda
CREATE TABLE Moneda (
    MONEDA_ID INT PRIMARY KEY,
    NOMBRE VARCHAR(50)
);

-- Tabla Tipo_operacion
CREATE TABLE Tipo_operacion (
    TIPO_OPERACION_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Medio_pago
CREATE TABLE Medio_pago (
    MEDIO_PAGO_ID INT PRIMARY KEY,
    DESCRIPCION VARCHAR(100)
);

-- Tabla Alquiler_estado
CREATE TABLE Alquiler_estado (
    ALQUILER_ESTADO_ID INT PRIMARY KEY,
    ESTADO VARCHAR(100)
);

-- Tabla Pago_venta
CREATE TABLE Pago_venta (
    PAGO_VENTA_ID INT PRIMARY KEY,
    IMPORTE DECIMAL(10,2),
    MONEDA_ID INT, -- FK
    COTIZACION DECIMAL(10,2),
    MEDIO_PAGO_ID INT -- FK
);

